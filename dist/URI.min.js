/**
 * @module URI
 * @author nuintun
 * @license MIT
 * @version 0.0.1
 * @description A simple WHATWG URI parser.
 * @see https://github.com/nuintun/uri#readme
 */
!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define("URI",e):r.URI=e()}(this,function(){"use strict";var r=void 0,e=/^([a-z0-9.+-]+:)?(?:\/\/)?(?:([^/:]*)(?::([^/]*))?@)?([^:?#/]*)(?::(\d*(?=$|[?#/])))?([^?#]*)(\?[^#]*)?(#.*)?/i;function n(e){return e===r?null:e}function t(r){return null!==r}function o(r){return r?encodeURIComponent(r):r}function a(r){return r?decodeURIComponent(r):r}function i(r){var e={};if(!r)return e;if(r=r.replace(/^[?#]/,""))for(var t=/(?:^|&)([^&=]*)(?:=([^&]*))?/g;;){var o=t.exec(r);if(!o)break;var i=a(o[1]||""),u=a(n(o[2]));e.hasOwnProperty(i)?(Array.isArray(e[i])||(e[i]=[e[i]]),e[i].push(u)):e[i]=u}return e}function u(r,e){var n="",a=function(e){if(r.hasOwnProperty(e)){var a=r[e];Array.isArray(a)?a.forEach(function(r){n+="&"+o(e),t(r)&&(n+="="+o(r))}):(n+="&"+e,t(a)&&(n+="="+o(a)))}};for(var i in r)a(i);return n.replace(/^&/,e)}return function(){function r(r){var t=this,o=e.exec(r);if(!o)throw Error("URI not a standard WHATWG URI.");var a=o[1],u=o[2],c=o[3],f=o[4],p=o[5],s=o[6],h=o[7],d=o[8];t.protocol=n(a),t.username=n(u),t.password=n(c),t.hostname=n(f),t.port=n(p),t.pathname=n(s),t.param=i(h),t.anchor=i(d)}return Object.defineProperty(r.prototype,"search",{get:function(){return u(this.param,"?")},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"hash",{get:function(){return u(this.anchor,"#")},enumerable:!0,configurable:!0}),r.prototype.toURI=function(){var r="",e=this,n=e.protocol,o=e.username,a=e.password,i=e.hostname,u=e.port;return t(n)&&(r+=n),(t(n)||t(i))&&(r+="//"),t(o)&&(r+=o),t(a)&&(r+=":"+a),(t(o)||t(a))&&(r+="@"),t(i)&&(r+=i),t(u)&&(r+=":"+u),r+=e.pathname+e.search+e.hash},r.prototype.toString=function(){return this.toURI()},r}()});
//# sourceMappingURL=URI.js.map