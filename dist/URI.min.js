/**
 * @module URI
 * @author nuintun
 * @license MIT
 * @version 0.0.1
 * @description A simple WHATWG URI parser.
 * @see https://github.com/nuintun/uri#readme
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define("URI",r):t.URI=r()}(this,function(){"use strict";var t=void 0,r=/^([a-z0-9.+-]+:)?(?:\/\/)?(?:([^/:]*)(?::([^/]*))?@)?([^:?#/]*)(?::(\d*(?=$|[?#/])))?([^?#]*)(\?[^#]*)?(#.*)?/i;function e(r){return r===t?null:r}function n(t){return null!==t}function o(t){return t?encodeURIComponent(t):t}function i(t){return t?decodeURIComponent(t):t}function a(t){var r={};if(!t)return r;if(t=t.replace(/^[?#]/,""))for(var n=/(?:^|&)([^&=]*)(?:=([^&]*))?/g;;){var o=n.exec(t);if(!o)break;var a=i(o[1]||""),u=i(e(o[2]));r.hasOwnProperty(a)?(Array.isArray(r[a])||(r[a]=[r[a]]),r[a].push(u)):r[a]=u}return r}function u(t,r){var e="",i=function(r){if(t.hasOwnProperty(r)){var i=t[r];Array.isArray(i)?i.forEach(function(t){e+="&"+o(r),n(t)&&(e+="="+o(t))}):(e+="&"+r,n(i)&&(e+="="+o(i)))}};for(var a in t)i(a);return e.replace(/^&/,r)}return function(){function t(t){var n=r.exec(t);if(!n)throw Error("URI not a standard WHATWG URI.");var o=n[1],i=n[2],u=n[3],s=n[4],h=n[5],c=n[6],f=n[7],p=n[8];this.protocol=e(o),this.username=e(i),this.password=e(u),this.hostname=e(s),this.port=e(h),this.pathname=e(c),this.param=a(f),this.anchor=a(p)}return Object.defineProperty(t.prototype,"search",{get:function(){return u(this.param,"?")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return u(this.anchor,"#")},enumerable:!0,configurable:!0}),t.prototype.toURI=function(){var t="",r=this.protocol,e=this.username,o=this.password,i=this.hostname,a=this.port;return n(r)&&(t+=r),(n(r)||n(i))&&(t+="//"),n(e)&&(t+=e),n(o)&&(t+=":"+o),(n(e)||n(o))&&(t+="@"),n(i)&&(t+=i),n(a)&&(t+=":"+a),t+=this.pathname+this.search+this.hash},t.prototype.toString=function(){return this.toURI()},t}()});
//# sourceMappingURL=URI.js.map