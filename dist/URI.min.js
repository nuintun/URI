/**
 * @module URI
 * @license MIT
 * @version 0.0.1
 * @author nuintun
 * @description A simple WHATWG URI parser.
 * @see https://github.com/nuintun/uri#readme
 */
/**
 * @module URI
 * @license MIT
 * @version 0.0.1
 * @author nuintun
 * @description A simple WHATWG URI parser.
 * @see https://github.com/nuintun/uri#readme
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define("URI",r):(t=t||self).URI=r()}(this,(function(){"use strict";
/**
   * @module URI
   * @license MIT
   * @version 2018/03/28
   */var t=/(?:^|&)([^&=]*)(?:=([^&]*))?/g,r=/^([a-z0-9.+-]+:)?(?:\/\/)?(?:([^/:]*)(?::([^/]*))?@)?([^:?#/]*)(?::(\d*(?=$|[?#/])))?([^?#]*)(\?[^#]*)?(#.*)?/i;function e(t){return null==t?null:t}function n(t){return null!=t}function o(t){return t?encodeURIComponent(t):t}function i(t){return t?decodeURIComponent(t):t}function u(r){var n={};if(!r)return n;if(r=r.replace(/^[?#]/,""))for(;;){var o=t.exec(r);if(!o)break;var u=i(o[1]||""),a=i(e(o[2]));n.hasOwnProperty(u)?(Array.isArray(n[u])||(n[u]=[n[u]]),n[u].push(a)):n[u]=a}return n}function a(t,r){var e="",i=function(r){if(t.hasOwnProperty(r)){var i=t[r];r=o(r),Array.isArray(i)?i.forEach((function(t){e+="&"+r,n(t)&&(e+="="+o(t))})):(e+="&"+r,n(i)&&(e+="="+o(i)))}};for(var u in t)i(u);return e.replace(/^&/,r)}return function(){function t(t){var n=r.exec(t);if(!n)throw Error("URI not a standard WHATWG URI.");var o=n[1],i=n[2],a=n[3],s=n[4],f=n[5],h=n[6],c=n[7],p=n[8];this.protocol=e(o),this.username=e(i),this.password=e(a),this.hostname=e(s),this.port=e(f),this.pathname=e(h),this.query=u(c),this.fragment=u(p)}return Object.defineProperty(t.prototype,"search",{get:function(){return a(this.query,"?")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return a(this.fragment,"#")},enumerable:!0,configurable:!0}),t.prototype.toURI=function(){var t="",r=this.protocol,e=this.username,o=this.password,i=this.hostname,u=this.port;return n(r)&&(t+=r),n(r)&&(t+="//"),n(e)&&(t+=e),n(o)&&(t+=":"+o),(n(e)||n(o))&&(t+="@"),n(i)&&(t+=i),n(u)&&(t+=":"+u),t+=this.pathname+this.search+this.hash},t.prototype.toString=function(){return this.toURI()},t}()}));
//# sourceMappingURL=URI.js.map