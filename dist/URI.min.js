/**
 * @module URI
 * @author nuintun
 * @license MIT
 * @version 0.0.1
 * @description A simple WHATWG URI parser.
 * @see https://github.com/nuintun/uri#readme
 */
!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r():"function"==typeof define&&define.amd?define("URI",r):(t=t||self).URI=r()}(this,function(){"use strict";var t=void 0,r=/(?:^|&)([^&=]*)(?:=([^&]*))?/g,e=/^([a-z0-9.+-]+:)?(?:\/\/)?(?:([^\/:]*)(?::([^\/]*))?@)?([^:?#\/]*)(?::(\d*(?=$|[?#\/])))?([^?#]*)(\?[^#]*)?(#.*)?/i;function n(r){return r===t?null:r}function o(t){return null!==t}function i(t){return t?encodeURIComponent(t):t}function a(t){return t?decodeURIComponent(t):t}function u(t){var e={};if(!t)return e;if(t=t.replace(/^[?#]/,""))for(;;){var o=r.exec(t);if(!o)break;var i=a(o[1]||""),u=a(n(o[2]));e.hasOwnProperty(i)?(Array.isArray(e[i])||(e[i]=[e[i]]),e[i].push(u)):e[i]=u}return e}function s(t,r){var e="",n=function(r){if(t.hasOwnProperty(r)){var n=t[r];r=i(r),Array.isArray(n)?n.forEach(function(t){e+="&"+r,o(t)&&(e+="="+i(t))}):(e+="&"+r,o(n)&&(e+="="+i(n)))}};for(var a in t)n(a);return e.replace(/^&/,r)}return function(){function t(t){var r=e.exec(t);if(!r)throw Error("URI not a standard WHATWG URI.");var o=r[1],i=r[2],a=r[3],s=r[4],f=r[5],h=r[6],c=r[7],p=r[8];this.protocol=n(o),this.username=n(i),this.password=n(a),this.hostname=n(s),this.port=n(f),this.pathname=n(h),this.query=u(c),this.fragment=u(p)}return Object.defineProperty(t.prototype,"search",{get:function(){return s(this.query,"?")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hash",{get:function(){return s(this.fragment,"#")},enumerable:!0,configurable:!0}),t.prototype.toURI=function(){var t="",r=this.protocol,e=this.username,n=this.password,i=this.hostname,a=this.port;return o(r)&&(t+=r),o(r)&&(t+="//"),o(e)&&(t+=e),o(n)&&(t+=":"+n),(o(e)||o(n))&&(t+="@"),o(i)&&(t+=i),o(a)&&(t+=":"+a),t+=this.pathname+this.search+this.hash},t.prototype.toString=function(){return this.toURI()},t}()});
//# sourceMappingURL=URI.js.map